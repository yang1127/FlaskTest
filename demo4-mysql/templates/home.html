<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>员工信息</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</head>
<body>
<div class="container">
    <table class="table table-bordered">
        <thead>
        <tr>
            <th>ID</th>
            <th>姓名</th>
            <th>密码</th>
            <th>手机号</th>
            <th>操作</th>
        </tr>
        </thead>
        <tbody>
        {% for item in data_list %}
        <tr>
            <td>{{item.id}}</td>
            <td>{{item.name}}</td>
            <td>{{item.password}}</td>
            <td>{{item.mobile}}</td>
            <td>

                <a class="btn btn-danger btn-xs" data-toggle="modal" data-target="#myModal" onclick="setUpdateFormAction({{item.id}})" >修改</a>
                <div class="modal" id="myModal">
                    <div class="modal-dialog">
                        <div class="modal-content">

                            <div class="modal-header">
                                <h5 class="modal-title">修改员工信息</h5>
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                            </div>


                            <div class="modal-body">
                                <form action="/admin/update?id={{item.id}}" method="post">
                                    <div>
                                        <label for="name">姓名：</label>
                                        <input type="text" class="form-control" placeholder="Username" name="name">
                                    </div>

                                    <div>
                                        <label for="password">密码：</label>
                                        <input type="text" class="form-control" placeholder="Password" name="password">
                                    </div>

                                    <div>
                                        <label for="mobile">电话：</label>
                                        <input type="text" class="form-control" placeholder="Molile" name="mobile">
                                    </div>

                                    <button class="btn btn-primary" type="submit">提交</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 法一 -->
                <!-- <a class="btn btn-danger btn-xs" href="/admin/update/{{item.id}}">修改</a> -->
                <a class="btn btn-danger btn-xs" href="/admin/delete?id={{item.id}}">删除</a>
            </td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
<script>
    function setUpdateFormAction(id) {
    var form = document.querySelector('#myModal form');
    form.action = '/admin/update/' + id;
}
</script>
</body>
</html>